<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test</title>

    <link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/static/css/fileinput.min.css">

    <script type="text/javascript" src="/lib/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="/lib/js/bootstrap.min.js"></script>


    <script type="text/javascript" src="/lib/js/plugins/canvas-to-blob.min.js"></script>
    <script type="text/javascript" src="/lib/js/plugins/sortable.min.js"></script>
    <script type="text/javascript" src="/lib/js/plugins/purify.min.js"></script>
    <script type="text/javascript" src="/lib/js/fileinput.min.js"></script>
    <script type="text/javascript" src="/static/themes/fa/theme.js"></script>
    <script type="text/javascript" src="/lib/js/locales/zh.js"></script>



</head>


<body>
hello world!

<div>
    <input id="input-id" name="file" type="file" multiple class="file-input"  >
</div>


</body>

<script>
    $(document).ready(function () {
//        alert("111");
        var file = $('#input-id');
        file.fileinput({
            uploadUrl:"/fileup/ajax_up",
            allowedPreviewTypes:['image','html','text','video','flash'],
            uploadAsync:true,
            language:'zh',
            showUpload:true,
            showRemove:false,
            showCaption:false,
            showPreview:true,
            browseOnZoneClick:false,
            overwriteInitial:true,
            removeFromPreviewOnError:false,
            maxFileCount:2,
//            fileActionSettings:{
//                showRemove:true,
//                showUpload:true
//            },
            initialPreview:[
                "http://localhost:8888/file/08/6184a0fb4397d010e1fdb54516dfd6.png",
                "{$logourl}"

            ],
            initialPreviewAsData:true,
            initialPreviewConfig:[
                {caption:"",width:'120px',url:'#',key:0},
                {caption:"",width:'120px',url:'#',key:1}
            ]
        });

        file.on('fileselect',function(event,numFiles,label) {

            console.log('fileselect');
        });


        file.on('fileuploaded',function (event,data,previewId,index) {
//            alert("222");
//            alert(previewId);
            console.log('fileuploaded'+data.response+ ' '+index);
        });

        file.on('fileclear',function (event) {
            console.log('fileclear');
        });

        file.on('filecleared',function (event) {
            console.log('filecleared');
        });

        file.on('filepredelete',function (event,key) {
            console.log('filepredelete');
        });

        file.on('filedeleted',function (event,key) {
            console.log('filedeleted '+key);
        });

        file.on('filesuccessremove',function (event,id) {
            console.log('filesuccessremove');
        });

        file.on('fileremove',function (event,id) {
            console.log('fileremove');
        });

        file.on('fileselectnone',function (event) {
            console.log('fileselectnone');
        });

        file.on('change',function (event) {

            console.log('change');
        });

    });
</script>

</html>